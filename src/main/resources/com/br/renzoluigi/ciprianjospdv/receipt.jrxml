<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="Cupom80mm"
              pageWidth="226"
              pageHeight="842"
              columnWidth="206" leftMargin="10"  rightMargin="10" topMargin="0"
              bottomMargin="5"
              isIgnorePagination="true"
              uuid="4c3609d7-21a3-4ed8-a9fd-2fa1c45ee105">

    <parameter name="ticketId" class="java.lang.String"/>
    <parameter name="subtotal" class="java.lang.String"/>
    <parameter name="date" class="java.lang.String"/>
    <parameter name="sellerName" class="java.lang.String"/>
    <parameter name="discount" class="java.lang.String"/>
    <parameter name="totalPrice" class="java.lang.String"/>
    <parameter name="observation" class="java.lang.String"/>

    <field name="productName" class="java.lang.String"/>
    <field name="quantity" class="java.lang.Integer"/>
    <field name="price" class="java.math.BigDecimal"/>


    <title>
        <band height="105">

            <textField>
                <reportElement x="0" y="0" width="206" height="28"/> <textElement textAlignment="Center" verticalAlignment="Middle">
                <font fontName="Franklin Gothic Medium" size="18" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA["CIPRIANJOS"]]></textFieldExpression>
            </textField>

            <staticText>
                <reportElement x="0" y="35" width="206" height="10"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <text><![CDATA[RUA FRUTUOSO BARBOSA, 80]]></text>
            </staticText>

            <staticText>
                <reportElement x="0" y="47" width="206" height="10"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <text><![CDATA[-- SAO PAULO - SP --]]></text>
            </staticText>

            <staticText>
                <reportElement x="0" y="59" width="206" height="10"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <text><![CDATA[Tel.: (11) 98256-1378]]></text>
            </staticText>

            <staticText>
                <reportElement x="0" y="71" width="206" height="10"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <text><![CDATA[CNPJ: 44680215000176]]></text>
            </staticText>

            <line>
                <reportElement x="0" y="95" width="206" height="1"/> <graphicElement>
                <pen lineStyle="Dashed"/>
            </graphicElement>
            </line>

        </band>
    </title>


    <pageHeader>
        <band height="34">

            <textField>
                <reportElement x="0" y="0" width="206" height="12"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <textFieldExpression><![CDATA[$P{date}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="0" y="14" width="206" height="12"/> <textElement>
                <font fontName="Consolas" size="9"/>
            </textElement>
                <textFieldExpression><![CDATA["Cliente: Venda ao consumidor"]]></textFieldExpression>
            </textField>

            <line>
                <reportElement x="0" y="28" width="206" height="1"/> <graphicElement>
                <pen lineStyle="Dashed"/>
            </graphicElement>
            </line>

        </band>
    </pageHeader>


    <columnHeader>
        <band height="14">

            <textField>
                <reportElement x="0" y="0" width="80" height="12"/>
                <textElement textAlignment="Left">
                    <font fontName="Consolas" size="8" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Desc"]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="80" y="0" width="70" height="12"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA["Qtd x Un"]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="150" y="0" width="56" height="12"/> <textElement textAlignment="Right">
                <font fontName="Consolas" size="8" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA["Total"]]></textFieldExpression>
            </textField>

        </band>
    </columnHeader>


    <detail>
        <band height="14">

            <textField isStretchWithOverflow="true">
                <reportElement x="0" y="0" width="80" height="12"/>
                <textElement>
                    <font fontName="Consolas" size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{productName}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="80" y="0" width="70" height="12"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <textFieldExpression><![CDATA[
                    $F{quantity} + " x " +
                    $F{price}.divide(new java.math.BigDecimal($F{quantity}), 2, java.math.RoundingMode.HALF_UP)
                ]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="150" y="0" width="56" height="12"/> <textElement textAlignment="Right">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <textFieldExpression><![CDATA[$F{price}]]></textFieldExpression>
            </textField>

        </band>
    </detail>


    <columnFooter>
        <band height="62">

            <line>
                <reportElement x="0" y="4" width="206" height="1"/> <graphicElement>
                <pen lineStyle="Dashed"/>
            </graphicElement>
            </line>

            <textField>
                <reportElement x="0" y="12" width="100" height="12"/>
                <textElement textAlignment="Left">
                    <font fontName="Consolas" size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Subtotal:"]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="100" y="12" width="106" height="12"/> <textElement textAlignment="Right">
                <font fontName="Consolas" size="9" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA[$P{subtotal}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="0" y="26" width="100" height="12"/>
                <textElement textAlignment="Left">
                    <font fontName="Consolas" size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Desconto:"]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="100" y="26" width="106" height="12"/> <textElement textAlignment="Right">
                <font fontName="Consolas" size="9"/>
            </textElement>
                <textFieldExpression><![CDATA[$P{discount}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="0" y="42" width="100" height="14"/>
                <textElement textAlignment="Left">
                    <font fontName="Consolas" size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["TOTAL:"]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="100" y="42" width="106" height="14"/> <textElement textAlignment="Right">
                <font fontName="Consolas" size="10" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA[$P{totalPrice}]]></textFieldExpression>
            </textField>

        </band>
    </columnFooter>


    <pageFooter>
        <band height="45">

            <textField isStretchWithOverflow="true">
                <reportElement x="0" y="0" width="206" height="20"/> <textElement textAlignment="Left">
                <font fontName="Consolas" size="8"/>
            </textElement>
                <textFieldExpression><![CDATA[
                    "Obs: " + ($P{observation} != null ? $P{observation} : "")
                ]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="0" y="26" width="206" height="14"/> <textElement textAlignment="Center">
                <font fontName="Consolas" size="9" isBold="true"/>
            </textElement>
                <textFieldExpression><![CDATA["Volte sempre!"]]></textFieldExpression>
            </textField>

        </band>
    </pageFooter>

</jasperReport>